<!DOCTYPE html> 
<html>
<head>
<meta charset="utf-8">
<title>jQuery Mobile Web App</title>
<link href="js/jquery.mobile-1.0.min.css" rel="stylesheet" type="text/css"/>
<script src="js/jquery-1.6.4.min.js" type="text/javascript"></script>
<script src="js/jquery.mobile-1.0.min.js" type="text/javascript"></script>
<script type="text/javascript">
    var xml;
    $(document).ready(function(){
		
		
		
        $.ajax({
            type: "GET",
            url: "dua.xml",
            dataType: "xml",
            success: xmlParser
        	});
    });
        //loading XML file and parsing to .main div.
        function xmlParser(data) {
            xml = data;

            $('#load').fadeOut();
			var title = '';
			var id = '';
			var appitem = ''
            $(xml).find("Dua").each(function () {
                
				title = $(this).find("title").text();
				id = $(this).find("ID").text();
				//alert(id);
				appitem += '<li class="ui-li ui-li-static ui-body-b"><a href="details.html?id='+ id +'" data-ajax="false">'+ title + '</a></li>';
				
				//$('#list').listview('refresh');
            });
			//alert(appitem);
			$("ul#list").append(appitem); 
        }

</script>
</head> 
<body> 

<div data-role="page">
  <div data-role="header" data-theme="a">
    <h1>Directory for all kinds of Dua</h1>
  </div>
  <!-- /header -->
  <div data-role="content">
    <div class="content-primary">
      <ul id="list" data-role="listview" data-theme="b" data-filter="true">
	      <li id="load">Loading Data...</li>
      </ul>
    </div>
    <!-- /contentprimary --> 
  </div>
  <!-- /content -->
  <div data-role="footer" data-theme="a">
    <div data-role="navbar">
      <p align='center'>Remember me in your duas</p>
    </div>
    <!-- /navbar --> 
  </div>
  <!-- /footer --> 
</div>
<!-- /page -->

</body>
</html>
